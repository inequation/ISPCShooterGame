# ISPC Shooter Game

This is a toy project derived from the Unreal Engine 4's *Shooter Game* sample to test-drive the concept of moving gameplay code to ISPC. It's work in progress, **expect things not to work.**

Made mostly as illustration to a talk I'm about to give.

## What already works?

- "Unrolled" `UCharacterMovementComponent` from C++ spaghetti to a bunch of free functions
  - ISPC source directly diffable against it
- Building and linking ISPC kernels
  - Abuse C# build rules DLL to generate & run a makefile
  - ISPC objects linked in as Additional Libraries
- Basic interop
  - Autogenerated callback macros
  - Manual marshalling

## Future work

- Autogenerate everything that can be generated
  - Marshalling code from UE4 reflection
- Converge on a set of inputs and outputs
- Optimize the C++ callbacks
  - Move code to ISPC altogether?
  - Optimize scheduling?
    - Batch and reuse data

## Getting started

This project takes advantage of an ISPC feature that was introduced after the latest release at the time of writing (1.9.2). You will therefore need either ISPC version 1.9.3 (when that gets released), build it from source, or download a binary from the *Releases* section.

1. Clone this git repo.
2. Download the *Shooter Game* example from the Epic Games Launcher
3. Create a project with the *Shooter Game* example and name it `ISPCShooterGame` (**important!**)
4. Move the cloned git repo (together with the `.git` directory!) over the `ISPCShooterGame` project created in step 3, confirming all overwrites.
5. Project is ready for use.
